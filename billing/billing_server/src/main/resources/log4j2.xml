<?xml version="1.0" encoding="UTF-8"?>  
<Configuration>  
    <Appenders>  
	    <!-- 控制台打印 -->
	    <Console name="CONSOLE" target="SYSTEM_OUT">
	        <PatternLayout pattern="%d %-5p [%t] (%F:%L) - %m%n"/>
	    </Console>
	    <!-- 按天每天备份一个日志 -->
	    <RollingFile name="BillingServerInfo" fileName="${billingCommonClient.logPath}billing_server_info.log" filePattern="${billingCommonClient.logPath}billing_server_info_%d{yyyy-MM-dd}_%i.log.gz">
	        <PatternLayout pattern="%d %-5p [%t] (%F:%L) - %m%n" />
	        <Policies>
	            <!-- 按天分割 -->
	            <TimeBasedTriggeringPolicy modulate="true" interval="1"/>
	            <!-- 超过500M增加一个 -->
	            <SizeBasedTriggeringPolicy size="500M" />
	        </Policies>
	        <!-- 最多备份10个 -->
	        <DefaultRolloverStrategy max="10" />
	    </RollingFile>
	    
	    <RollingFile name="BillingServerError" fileName="${billingCommonClient.logPath}billing_server_error.log" filePattern="${billingCommonClient.logPath}billing_server_error_%d{yyyy-MM-dd}_%i.log.gz">
	        <PatternLayout pattern="%d %-5p [%t] (%F:%L) - %m%n" />
	        <Policies>
	            <!-- 按天分割 -->
	            <TimeBasedTriggeringPolicy modulate="true" interval="1"/>
	            <!-- 超过500M增加一个 -->
	            <SizeBasedTriggeringPolicy size="500M" />
	        </Policies>
	        <!-- 最多备份10个 -->
	        <DefaultRolloverStrategy max="10" />
	        <Filters>
	        	<ThresholdFilter level="WARN" onMatch="ACCEPT" onMismatch="DENY"/>
	            <ThresholdFilter level="ERROR" onMatch="ACCEPT" onMismatch="DENY"/>
	        </Filters>
	    </RollingFile>
	    
	    <RollingFile name="BillingServerDao" fileName="${billingCommonClient.logPath}billing_server_sql.log" filePattern="${billingCommonClient.logPath}billing_server_sql_%d{yyyy-MM-dd}_%i.log.gz">
	        <PatternLayout pattern="%d %-5p [%t] (%F:%L) - %m%n" />
	        <Policies>
	            <!-- 按天分割 -->
	            <TimeBasedTriggeringPolicy modulate="true" interval="1"/>
	            <!-- 超过500M增加一个 -->
	            <SizeBasedTriggeringPolicy size="500M" />
	        </Policies>
	        <!-- 最多备份10个 -->
	        <DefaultRolloverStrategy max="10" />
	        <Filters>
	        	<ThresholdFilter level="DEBUG" onMatch="ACCEPT" onMismatch="DENY"/>
	        	<ThresholdFilter level="INFO" onMatch="DENY" onMismatch="NEUTRAL"/>
	            <ThresholdFilter level="WARN" onMatch="DENY" onMismatch="NEUTRAL"/>
	        	<ThresholdFilter level="ERROR" onMatch="DENY" onMismatch="NEUTRAL"/>
	            <ThresholdFilter level="TRACE" onMatch="DENY" onMismatch="NEUTRAL"/>
	        </Filters>
	    </RollingFile>
	    
    </Appenders>  
   <Loggers>
	    <Root level="info">
	        <AppenderRef ref="CONSOLE"/>
	        <AppenderRef ref="BillingServerInfo"/>
	        <AppenderRef ref="BillingServerError"/>
	    </Root>
	    
    	<logger name="com.heepay.billing.dao" level="DEBUG" additivity="false">
            <AppenderRef ref="BillingServerDao"/>
        </logger>
    </Loggers>    
</Configuration>  